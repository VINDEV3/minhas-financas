# ğŸ“Š Funcionalidade de Extrato por MÃªs

## VisÃ£o Geral

A nova funcionalidade de **Extrato** permite visualizar todas as despesas organizadas por mÃªs, similar a um extrato de cartÃ£o de crÃ©dito. Cada mÃªs mostra as despesas agrupadas por categoria com totais automÃ¡ticos.

## Como Acessar

1. Clique em **"Extrato"** no menu lateral do Dashboard
2. A pÃ¡gina carregarÃ¡ mostrando o mÃªs atual com todas as despesas

## Funcionalidades

### 1. **NavegaÃ§Ã£o Entre Meses**
- BotÃ£o **"Anterior"** - Navega para o mÃªs anterior
- BotÃ£o **"PrÃ³ximo"** - Navega para o mÃªs seguinte
- Indicador **"MÃªs atual"** - Mostra quando vocÃª estÃ¡ visualizando o mÃªs atual

### 2. **VisualizaÃ§Ã£o de Despesas por Categoria**
As despesas sÃ£o agrupadas por categoria e exibem:
- **Nome da categoria** (ex: AlimentaÃ§Ã£o, Moradia, Lazer)
- **Valor total** em R$ (destacado em vermelho/laranja)
- **Percentual** do total do mÃªs (ex: 25.5% do total)

### 3. **Total do MÃªs**
Na parte inferior de cada mÃªs, Ã© exibido:
- **Total do MÃªs** em destaque com a cor primÃ¡ria
- Valor em R$ formatado corretamente

### 4. **Resumo dos Ãšltimos 6 Meses**
Abaixo da visualizaÃ§Ã£o detalhada, vocÃª vÃª:
- Lista dos Ãºltimos 6 meses
- Total de despesas de cada mÃªs
- Clique em qualquer mÃªs para visualizar seus detalhes

## Exemplo de VisualizaÃ§Ã£o

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    EXTRATO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                  Outubro de 2025
                  âœ“ MÃªs atual

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Despesas do MÃªs                         â”‚
â”‚                 Total: R$ 2.930,00                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ Moradia                                    R$ 1.200,00 â”‚
â”‚ 40.9% do total                                          â”‚
â”‚                                                         â”‚
â”‚ AlimentaÃ§Ã£o                                  R$ 450,00 â”‚
â”‚ 15.4% do total                                          â”‚
â”‚                                                         â”‚
â”‚ Lazer                                        R$ 362,50 â”‚
â”‚ 12.4% do total                                          â”‚
â”‚                                                         â”‚
â”‚ Transporte                                   R$ 150,00 â”‚
â”‚ 5.1% do total                                           â”‚
â”‚                                                         â”‚
â”‚ SaÃºde                                         R$ 80,00 â”‚
â”‚ 2.7% do total                                           â”‚
â”‚                                                         â”‚
â”‚ EducaÃ§Ã£o                                     R$ 300,00 â”‚
â”‚ 10.2% do total                                          â”‚
â”‚                                                         â”‚
â”‚ Compras                                      R$ 250,00 â”‚
â”‚ 8.5% do total                                           â”‚
â”‚                                                         â”‚
â”‚ Utilidades                                   R$ 120,00 â”‚
â”‚ 4.1% do total                                           â”‚
â”‚                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                Total do MÃªs: R$ 2.930,00               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Resumo dos Ãšltimos 6 Meses                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ Outubro de 2025 (MÃªs Selecionado)    R$ 2.930,00      â”‚
â”‚                                                         â”‚
â”‚ Setembro de 2025                     R$ 2.750,00      â”‚
â”‚                                                         â”‚
â”‚ Agosto de 2025                       R$ 3.100,00      â”‚
â”‚                                                         â”‚
â”‚ Julho de 2025                        R$ 2.500,00      â”‚
â”‚                                                         â”‚
â”‚ Junho de 2025                        R$ 2.800,00      â”‚
â”‚                                                         â”‚
â”‚ Maio de 2025                         R$ 3.200,00      â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Recursos TÃ©cnicos

### Backend
- **Query de Agrupamento**: Agrupa despesas por mÃªs e categoria
- **CÃ¡lculo de Totais**: Calcula automaticamente o total por categoria e por mÃªs
- **Procedure tRPC**: `expenses.list` retorna todas as despesas com datas

### Frontend
- **Componente Statement.tsx**: Renderiza a visualizaÃ§Ã£o do extrato
- **NavegaÃ§Ã£o de Meses**: Usa `useState` para gerenciar o mÃªs atual
- **Agrupamento de Dados**: `useMemo` agrupa despesas por mÃªs e categoria
- **FormataÃ§Ã£o MonetÃ¡ria**: Usa `toLocaleString` para formatar valores em Real

## IntegraÃ§Ã£o com Parcelamento

Quando vocÃª cria uma despesa parcelada (ex: 12x), cada parcela aparecerÃ¡:
- Na data correspondente de cada mÃªs
- Agrupada com outras despesas da mesma categoria
- Contribuindo para o total do mÃªs

**Exemplo:**
```
Compra: PlayStation 5 - R$ 1.200,00 em 12 parcelas
Data da Compra: Outubro de 2025

Outubro de 2025:
â”œâ”€ EletrÃ´nicos: R$ 100,00 (1/12 da parcela)

Novembro de 2025:
â”œâ”€ EletrÃ´nicos: R$ 100,00 (2/12 da parcela)

Dezembro de 2025:
â”œâ”€ EletrÃ´nicos: R$ 100,00 (3/12 da parcela)
... e assim por diante
```

## Responsividade

A pÃ¡gina Ã© totalmente responsiva:
- **Desktop**: Layout completo com todas as informaÃ§Ãµes
- **Tablet**: Ajusta o tamanho dos cards
- **Mobile**: Stack vertical, botÃµes de navegaÃ§Ã£o otimizados

## PrÃ³ximas Melhorias Sugeridas

1. **GrÃ¡ficos Mensais**: Adicionar grÃ¡ficos de pizza/barra para visualizaÃ§Ã£o mensal
2. **ComparaÃ§Ã£o de Meses**: Comparar gastos entre meses
3. **Exportar Extrato**: OpÃ§Ã£o para baixar extrato em PDF
4. **Filtros AvanÃ§ados**: Filtrar por categoria, intervalo de datas
5. **Metas Mensais**: Definir metas por categoria e acompanhar progresso

---

**Status**: âœ… Implementado e Testado
**Ãšltima AtualizaÃ§Ã£o**: Novembro 2025
